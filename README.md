RaZberry
========

There are my notes About ZWave and RaZerry

I would like to make a ZWave decoder that will monitor the serial line and output human readable information about what is being sent.


Documents
=========
* "razberry.pdf" - http://razberry.z-wave.me/docs/razberry.pdf


Capturing serial port data
=========

Install "interceptty".

* http://www.suspectclass.com/sgifford/interceptty/
* unpack
* build it and install the tool

```BASH

# Usage:
# Stop Z-Way process "sudo /etc/init.d/Z-Way stop"
#  > sudo vi /opt/z-way-server/config.xml
# change "/dev/ttyAMA0" to "/tmp/ttyAMA0"
# Run this script
# Start Z-Way "sudo /etc/init.d/Z-Way start"

interceptty -s 'ispeed 115200 ospeed 115200' /dev/ttyAMA0 /tmp/ttyAMA0

```



Add/Re-Include node to network
========

The following data is sent to RaZberry board.

```
< 0x01
< 0x03
< 0x00
< 0x07
< 0xfb
> 	0x06
> 	0x01
> 	0x2b (+)
> 	0x01
> 	0x07
> 	0x04
> 	0x02
> 	0x01
> 	0x47 (G)
> 	0x00
> 	0x02
> 	0x00
> 	0x03
> 	0xfe
> 	0x00
> 	0x16
> 	0x80
> 	0x0c
> 	0x00
> 	0x00
> 	0x00
> 	0xe3
> 	0x97
> 	0x7d (})
> 	0x80
> 	0x07
> 	0x00
> 	0x00
> 	0x80
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x02
> 	0x00
> 	0x00
> 	0x80
> 	0x07
> 	0x00
> 	0x7c (|)
< 0x06
< 0x01
< 0x05
< 0x00
< 0x06
< 0x0a
< 0x0a
< 0xfc
> 	0x06
> 	0x01
> 	0x05
> 	0x01
> 	0x06
> 	0x0a
> 	0x0a
> 	0xfd
< 0x06
< 0x01
< 0x03
< 0x00
< 0xd2
< 0x2e (.)
> 	0x06
< 0x01
< 0x03
< 0x00
< 0x20
< 0xdc
> 	0x06
> 	0x01
> 	0x08
> 	0x01
> 	0x20
> 	0xf5
> 	0x14
> 	0x67 (g)
> 	0x9b
> 	0x01
> 	0xca
< 0x06
< 0x01
< 0x03
< 0x00
< 0x05
< 0xf9
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x05
> 	0x08
> 	0xf7
< 0x06
< 0x01
< 0x03
< 0x00
< 0x15
< 0xe9
> 	0x06
> 	0x01
> 	0x10
> 	0x01
> 	0x15
> 	0x5a (Z)
> 	0x2d (-)
> 	0x57 (W)
> 	0x61 (a)
> 	0x76 (v)
> 	0x65 (e)
> 	0x20
> 	0x33 (3)
> 	0x2e (.)
> 	0x34 (4)
> 	0x32 (2)
> 	0x00
> 	0x01
> 	0x93
< 0x06
< 0x01
< 0x03
< 0x00
< 0x56 (V)
< 0xaa
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x56 (V)
> 	0x00
> 	0xac
< 0x06
< 0x01
< 0x03
< 0x00
< 0x02
< 0xfe
> 	0x06
> 	0x01
> 	0x25 (%)
> 	0x01
> 	0x02
> 	0x05
> 	0x00
> 	0x1d
> 	0x0f
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x03
> 	0x01
> 	0xcc
< 0x06
< 0x01
< 0x04
< 0x00
< 0x41 (A)
< 0x01
< 0xbb
> 	0x06
> 	0x01
> 	0x09
> 	0x01
> 	0x41 (A)
> 	0x93
> 	0x16
> 	0x00
> 	0x02
> 	0x02
> 	0x01
> 	0x32 (2)
< 0x06
< 0x01
< 0x04
< 0x00
< 0x41 (A)
< 0x02
< 0xb8
> 	0x06
> 	0x01
> 	0x09
> 	0x01
> 	0x41 (A)
> 	0xd2
> 	0x9c
> 	0x00
> 	0x04
> 	0x10
> 	0x01
> 	0xed
< 0x06
< 0x01
< 0x04
< 0x00
< 0x62 (b)
< 0x02
< 0x9b
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x62 (b)
> 	0x00
> 	0x98
< 0x06
< 0x01
< 0x04
< 0x00
< 0x41 (A)
< 0x03
< 0xb9
> 	0x06
> 	0x01
> 	0x09
> 	0x01
> 	0x41 (A)
> 	0x51 (Q)
> 	0x8c
> 	0x00
> 	0x04
> 	0x20
> 	0x01
> 	0x4e (N)
< 0x06
< 0x01
< 0x04
< 0x00
< 0x62 (b)
< 0x03
< 0x9a
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x62 (b)
> 	0x00
> 	0x98
< 0x06
< 0x01
< 0x04
< 0x00
< 0x41 (A)
< 0x04
< 0xbe
> 	0x06
> 	0x01
> 	0x09
> 	0x01
> 	0x41 (A)
> 	0x51 (Q)
> 	0x8c
> 	0x00
> 	0x04
> 	0x20
> 	0x01
> 	0x4e (N)
< 0x06
< 0x01
< 0x04
< 0x00
< 0x62 (b)
< 0x04
< 0x9d
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x62 (b)
> 	0x00
> 	0x98
< 0x06
< 0x01
< 0x06
< 0x00
< 0x80
< 0x01
< 0x00
< 0x00
< 0x78 (x)
> 	0x06
> 	0x01
> 	0x20
> 	0x01
> 	0x80
> 	0x0e
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x50 (P)
< 0x06
< 0x01
< 0x06
< 0x00
< 0x80
< 0x02
< 0x00
< 0x00
< 0x7b ({)
> 	0x06
> 	0x01
> 	0x20
> 	0x01
> 	0x80
> 	0x0d
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x53 (S)
< 0x06
< 0x01
< 0x06
< 0x00
< 0x80
< 0x03
< 0x00
< 0x00
< 0x7a (z)
> 	0x06
> 	0x01
> 	0x20
> 	0x01
> 	0x80
> 	0x03
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x5d (])
< 0x06
< 0x01
< 0x06
< 0x00
< 0x80
< 0x04
< 0x00
< 0x00
< 0x7d (})
> 	0x06
> 	0x01
> 	0x20
> 	0x01
> 	0x80
> 	0x03
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x00
> 	0x5d (])
< 0x06
< 0x01
< 0x0f
< 0x00
< 0x03
< 0x03
< 0x02
< 0x01
< 0x08
< 0x72 (r)
< 0x60 (`)
< 0x86
< 0x8f
< 0x26 (&)
< 0x98
< 0x77 (w)
< 0x20
< 0x09
> 	0x06
< 0x01
< 0x03
< 0x00
< 0x05
< 0xf9
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x05
> 	0x08
> 	0xf7
< 0x06
< 0x01
< 0x07
< 0x00
< 0x54 (T)
< 0x01
< 0x01
< 0x00
< 0x01
< 0xad
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x54 (T)
> 	0x00
> 	0xae
< 0x06
< 0x01
< 0x09
< 0x00
< 0x13
< 0x02
< 0x02
< 0x25 (%)
< 0x02
< 0x25 (%)
< 0x01
< 0xe6
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x13
> 	0x01
> 	0xe8
< 0x06
> 	0x01
> 	0x05
> 	0x00
> 	0x13
> 	0x01
> 	0x00
> 	0xe8
< 0x06
> 	0x01
> 	0x09
> 	0x00
> 	0x04
> 	0x00
> 	0x02
> 	0x03
> 	0x25 (%)
> 	0x03
> 	0x00
> 	0xd5
< 0x06
< 0x01
< 0x0a
< 0x00
< 0x13
< 0x02
< 0x03
< 0x25 (%)
< 0x01
< 0xff
< 0x25 (%)
< 0x02
< 0x1b
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x13
> 	0x01
> 	0xe8
< 0x06
> 	0x01
> 	0x05
> 	0x00
> 	0x13
> 	0x02
> 	0x00
> 	0xeb
< 0x06
< 0x01
< 0x09
< 0x00
< 0x13
< 0x02
< 0x02
< 0x25 (%)
< 0x02
< 0x25 (%)
< 0x03
< 0xe4
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x13
> 	0x01
> 	0xe8
< 0x06
> 	0x01
> 	0x05
> 	0x00
> 	0x13
> 	0x03
> 	0x00
> 	0xea
< 0x06
> 	0x01
> 	0x09
> 	0x00
> 	0x04
> 	0x00
> 	0x02
> 	0x03
> 	0x25 (%)
> 	0x03
> 	0xff
> 	0x2a (*)
< 0x06
> 	0x01
> 	0x08
> 	0x00
> 	0x04
> 	0x00
> 	0x03
> 	0x02
> 	0x84
> 	0x07
> 	0x71 (q)
< 0x06
< 0x01
< 0x09
< 0x00
< 0x13
< 0x03
< 0x02
< 0x84
< 0x08
< 0x05
< 0x04
< 0x69 (i)
> 	0x06
> 	0x01
> 	0x04
> 	0x01
> 	0x13
> 	0x01
> 	0xe8
< 0x06
> 	0x01
> 	0x05
> 	0x00
> 	0x13
> 	0x04
> 	0x00
> 	0xed
< 0x06


```


JSON Server
========

Z-Way makes a server for Raspberry PI and RaZberry.



More ZWave References
==========
* Catching the Z-Wave - http://www.drdobbs.com/embedded-systems/catching-the-z-wave/193104353
* Open ZWave - https://code.google.com/p/open-zwave/
